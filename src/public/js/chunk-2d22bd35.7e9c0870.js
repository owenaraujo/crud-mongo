(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22bd35"],{f12f:function(t,e,o){"use strict";o.r(e);var r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",[o("b-row",[o("b-col",[o("div",{staticClass:"d-flex"},["usuario"!==t.usuario.roles.name?o("div",{staticClass:"text-center boton-cuadrado quinto c-hand text-white mt-3",attrs:{"data-toggle":"modal","data-target":"#modalAdd"}},[o("i",{staticClass:"fas fa-plus"}),t._v(" "),o("br"),t._v(" nuevo ")]):t._e(),o("div",{staticClass:"text-center boton-cuadrado color-primary c-hand text-white mt-3 ml-3",attrs:{"data-toggle":"modal","data-target":"#modalSearch"}},[t._v(" "+t._s(t.productos.length)+" "),o("br"),1===t.productos.length?o("div",[t._v("producto")]):t._e(),t.productos.length>1?o("div",[t._v("productos")]):t._e(),0===t.productos.length?o("div",[t._v("productos")]):t._e()]),o("div",{staticClass:"d-flex align-items-center"},[o("b-form-input",{staticClass:"w-75 ml-3",attrs:{id:"filter-input",type:"search",placeholder:"Buscar"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})],1)])])],1),o("b-row",[o("b-col",{attrs:{sm:"12"}},[o("div",{},[o("div",{staticClass:"text-center"},[o("b-table",{staticClass:"card mt-3 list-scroll scrollbar-light-blue",attrs:{"sticky-header":!0,striped:"",hover:"",filter:t.filter,items:t.productos,fields:t.fields},scopedSlots:t._u([{key:"cell(precioBs)",fn:function(e){return[t._v(" "+t._s(t._f("formatNumber")(t.infoEmpresa.dolar*e.item.precio))+" ")]}},"usuario"!==t.usuario.roles.name?{key:"cell(funciones)",fn:function(e){return[o("div",{staticClass:"btn red-alert text-white mt-0 c-hand",attrs:{size:"sm"},on:{click:function(o){return t.deleteProducto(e.item._id)}}},[o("i",{staticClass:"fas fa-trash-alt"})]),o("div",{staticClass:"btn yellow-danger text-white mt-0 c-hand",attrs:{size:"sm","data-toggle":"modal","data-target":"#modalEdit"},on:{click:function(o){return t.formData(e.item._id)}}},[o("i",{staticClass:"fas fa-pencil-alt"})])]}}:null],null,!0)})],1)])])],1),o("div",{staticClass:"modal fade",attrs:{id:"modalAdd",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[o("div",{staticClass:"modal-dialog modal-md",attrs:{role:"document"}},[o("div",{staticClass:"modal-content",class:{"dark-secondary":t.dark}},[o("div",{staticClass:"modal-header text-center",class:{"color-secondary text-white":t.dark}},[o("h4",{staticClass:"modal-title w-100 font-weight-bold"},[t._v("Agregar")]),t._m(0)]),o("div",{staticClass:"modal-body",class:{"dark-secondary":t.dark}},[o("form",{staticClass:"mx-3",attrs:{id:"formAdd"}},[o("div",{staticClass:"form-group mb-2"},[o("b-form-select",{staticClass:"mt-3",attrs:{options:t.categorias},model:{value:t.nuevoProducto.categoria,callback:function(e){t.$set(t.nuevoProducto,"categoria",e)},expression:"nuevoProducto.categoria"}}),o("b-form-select",{staticClass:"mt-3",attrs:{options:t.unidadesMedida},model:{value:t.nuevoProducto.unidadMedida,callback:function(e){t.$set(t.nuevoProducto,"unidadMedida",e)},expression:"nuevoProducto.unidadMedida"}}),o("b-form-select",{staticClass:"mt-3",attrs:{options:t.proveedores},model:{value:t.nuevoProducto.proveedor_id,callback:function(e){t.$set(t.nuevoProducto,"proveedor_id",e)},expression:"nuevoProducto.proveedor_id"}}),o("b-form-input",{staticClass:"mt-3",attrs:{required:"",type:"text",onkeyup:"validateNombre(this)",id:"nombre",placeholder:"nombre",autocomplete:"off"},model:{value:t.nuevoProducto.nombre,callback:function(e){t.$set(t.nuevoProducto,"nombre",e)},expression:"nuevoProducto.nombre"}}),o("b-form-input",{staticClass:"form-control mt-3",staticStyle:{"text-transform":"uppercase"},attrs:{required:"",type:"text",onkeyup:"validateCod(this)",placeholder:"codigo",autocomplete:"off"},model:{value:t.nuevoProducto.codigo,callback:function(e){t.$set(t.nuevoProducto,"codigo",e)},expression:"nuevoProducto.codigo"}}),o("div",{staticClass:"d-flex"},[o("b-form-input",{staticClass:"form-control mt-3  w-50",attrs:{required:"",type:"number",placeholder:"cantidad",autocomplete:"off"},model:{value:t.nuevoProducto.cantidad,callback:function(e){t.$set(t.nuevoProducto,"cantidad",e)},expression:"nuevoProducto.cantidad"}}),o("b-form-input",{staticClass:"form-control mt-3 ml-2 w-50",attrs:{required:"",type:"number",placeholder:"stock",autocomplete:"off"},model:{value:t.nuevoProducto.stock,callback:function(e){t.$set(t.nuevoProducto,"stock",e)},expression:"nuevoProducto.stock"}}),o("b-form-input",{staticClass:"form-control mt-3 ml-2 w-50",attrs:{required:"",type:"number",placeholder:"precio",autocomplete:"off"},model:{value:t.nuevoProducto.precio,callback:function(e){t.$set(t.nuevoProducto,"precio",e)},expression:"nuevoProducto.precio"}})],1),o("b-form-textarea",{staticClass:"form-control mt-3 ml-2",staticStyle:{"border-radius":"0.25rem"},attrs:{required:"",type:"text",placeholder:"descripcion",autocomplete:"off"},model:{value:t.nuevoProducto.descripcion,callback:function(e){t.$set(t.nuevoProducto,"descripcion",e)},expression:"nuevoProducto.descripcion"}})],1)])]),o("div",{staticClass:"modal-footer d-flex justify-content-center"},[o("div",{staticClass:"text-white mt-3 btn btn-block color-primary mr-4 ml-4 c-hand",attrs:{id:"btnPost"},on:{click:function(e){return t.sendProduct()}}},[t._v(" guardar ")])])])])]),o("div",{staticClass:"modal fade",attrs:{id:"modalEdit",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[o("div",{staticClass:"modal-dialog modal-md",attrs:{role:"document"}},[o("div",{staticClass:"modal-content",class:{"dark-secondary ":t.dark}},[o("div",{staticClass:"modal-header text-center",class:{"color-secondary text-white":t.dark}},[o("h4",{staticClass:"modal-title w-100 font-weight-bold"},[t._v("Editar")]),t._m(1)]),o("div",{staticClass:"modal-body mx-3"},[o("form",{staticClass:"mx-3",attrs:{id:"formEdit\n             "}},[!0===t.formVisibilityEDit?o("div",{staticClass:"form-group mb-2"},[o("b-form-select",{staticClass:"mt-3",attrs:{options:t.categorias},model:{value:t.formEdit.categoria,callback:function(e){t.$set(t.formEdit,"categoria",e)},expression:"formEdit.categoria"}}),o("b-form-select",{staticClass:"mt-3",attrs:{options:t.unidadesMedida},model:{value:t.formEdit.unidadMedida,callback:function(e){t.$set(t.formEdit,"unidadMedida",e)},expression:"formEdit.unidadMedida"}}),o("b-form-select",{staticClass:"mt-3",attrs:{options:t.proveedores},model:{value:t.formEdit.proveedor_id,callback:function(e){t.$set(t.formEdit,"proveedor_id",e)},expression:"formEdit.proveedor_id"}}),o("b-form-input",{staticClass:"mt-3",attrs:{required:"",type:"text",placeholder:"nombre",autocomplete:"off"},model:{value:t.formEdit.nombre,callback:function(e){t.$set(t.formEdit,"nombre",e)},expression:"formEdit.nombre"}}),o("b-form-input",{staticClass:"form-control mt-3",staticStyle:{"text-transform":"uppercase"},attrs:{required:"",type:"text",onkeyup:"validateCod(this)",placeholder:"codigo",autocomplete:"off"},model:{value:t.formEdit.codigo,callback:function(e){t.$set(t.formEdit,"codigo",e)},expression:"formEdit.codigo"}}),o("div",{staticClass:"d-flex"},[o("b-form-input",{staticClass:"form-control mt-3  w-50",attrs:{required:"",type:"number",placeholder:"cantidad",autocomplete:"off"},model:{value:t.formEdit.cantidad,callback:function(e){t.$set(t.formEdit,"cantidad",e)},expression:"formEdit.cantidad"}}),o("b-form-input",{staticClass:"form-control mt-3 ml-2 w-50",attrs:{required:"",type:"number",placeholder:"stock",autocomplete:"off"},model:{value:t.formEdit.stock,callback:function(e){t.$set(t.formEdit,"stock",e)},expression:"formEdit.stock"}}),o("b-form-input",{staticClass:"form-control mt-3 ml-2 w-50",attrs:{required:"",type:"number",placeholder:"precio",autocomplete:"off"},model:{value:t.formEdit.precio,callback:function(e){t.$set(t.formEdit,"precio",e)},expression:"formEdit.precio"}})],1),o("b-form-textarea",{staticClass:"form-control mt-3 ml-2",staticStyle:{"border-radius":"0.25rem"},attrs:{required:"",type:"text",placeholder:"descripcion",autocomplete:"off"},model:{value:t.formEdit.descripcion,callback:function(e){t.$set(t.formEdit,"descripcion",e)},expression:"formEdit.descripcion"}})],1):t._e()])]),o("div",{staticClass:"modal-footer d-flex justify-content-center mr-4 ml-4"},[o("div",{staticClass:"text-white mt-3 btn btn-block color-primary mr-4 ml-4 c-hand",on:{click:function(e){return t.sendEdit(t.formEdit._id)}}},[t._v(" guardar ")])])])])])],1)])},a=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[o("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[o("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])}],i=o("5530"),n=o("1da1"),s=(o("96cf"),o("4de4"),o("159b"),o("99af"),o("d81d"),o("6612")),d=o.n(s),c=o("2f62"),l=o("bc3a"),u=o.n(l),m=o("2b0e");m["default"].filter("formatNumber",(function(t){return d()(t).format("0,0")}));var f={created:function(){this.getCategorias(),this.getUnidades(),this.getProveedores(),this.getProductos()},methods:{getUnidades:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var o,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("".concat(t.server,"/system/unidades"));case 2:o=e.sent,r=o.data,r.forEach((function(e){var o={value:e._id,text:e.nombre};t.unidadesMedida.push(o)})),a={value:null,text:"seleccione una unidad",disabled:!0},t.unidadesMedida.push(a);case 7:case"end":return e.stop()}}),e)})))()},getCategorias:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var o,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("".concat(t.server,"/system/categoriaProducto"));case 2:o=e.sent,r=o.data,r.forEach((function(e){var o={value:e._id,text:e.nombre};t.categorias.push(o)})),a={value:null,text:"seleccione una categoria",disabled:!0},t.categorias.push(a);case 7:case"end":return e.stop()}}),e)})))()},getProductos:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var o,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("".concat(t.server,"/productos/get"));case 2:o=e.sent,r=o.data,t.productos=r;case 5:case"end":return e.stop()}}),e)})))()},sendEdit:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function o(){var r,a;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,u.a.put("".concat(e.server,"/productos/").concat(t),e.formEdit,{headers:{xtoken:e.token}});case 2:if(r=o.sent,a=r.data,e.alert(a),1!=a.value){o.next=7;break}return o.abrupt("return");case 7:if(0!=a.value){o.next=9;break}return o.abrupt("return");case 9:e.formVisibilityEDit=!1,e.formEdit.nombre=null,e.formEdit.codigo=null,e.formEdit.cantidad=null,e.formEdit.stock=null,e.formEdit.precio=null,e.formEdit.categoria=null,e.formEdit.unidadMedida=null,e.formEdit.proveedor_id=null,e.formEdit.unidadMedida=null,e.formEdit.descripcion=null,e.formEdit._id=null,e.getProductos();case 22:case"end":return o.stop()}}),o)})))()},getProveedores:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var o,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("".concat(t.server,"/proveedores/get"));case 2:o=e.sent,r=o.data,r.forEach((function(e){var o={value:e._id,text:e.nombre};t.proveedores.push(o)})),a={value:null,text:"seleccione un proveedor",disabled:!0},t.proveedores.push(a);case 7:case"end":return e.stop()}}),e)})))()},deleteProducto:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function o(){var r,a;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,u.a.delete("".concat(e.server,"/productos/").concat(t),{headers:{xtoken:e.token}});case 2:if(r=o.sent,a=r.data,e.alert(a),0!=a.value){o.next=7;break}return o.abrupt("return");case 7:e.getProductos();case 8:case"end":return o.stop()}}),o)})))()},formData:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function o(){var r,a;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,u.a.get("".concat(e.server,"/productos/").concat(t));case 2:r=o.sent,a=r.data,e.formVisibilityEDit=!0,e.formEdit=a;case 6:case"end":return o.stop()}}),o)})))()},sendProduct:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var o,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u.a.post("".concat(t.server,"/productos/"),t.nuevoProducto,{headers:{xtoken:t.token}});case 2:if(o=e.sent,r=o.data,t.alert(r),null!=r.value){e.next=7;break}return e.abrupt("return");case 7:if(0!=r.value){e.next=9;break}return e.abrupt("return");case 9:t.nuevoProducto.nombre=null,t.nuevoProducto.codigo=null,t.nuevoProducto.cantidad=null,t.nuevoProducto.stock=null,t.nuevoProducto.precio=null,t.nuevoProducto.categoria=null,t.nuevoProducto.unidadMedida=null,t.nuevoProducto.proveedor_id=null,t.nuevoProducto.unidadMedida=null,t.nuevoProducto.descripcion=null,t.getProductos();case 20:case"end":return e.stop()}}),e)})))()},alert:function(t){!0===t.value&&this.$toastr.success(t.message,"productos",this.options),!1===t.value&&this.$toastr.error(t.message,"productos",this.options),null===t.value&&this.$toastr.warning(t.message,"productos",this.options)}},computed:Object(i["a"])({sortOptions:function(){return this.fields.filter((function(t){return t.sortable})).map((function(t){return{text:t.label,value:t.key}}))}},Object(c["c"])(["dark","options","server","infoEmpresa","token","usuario"])),data:function(){return{proveedores:[],filter:null,filterOn:[],fields:[{key:"nombre",sortable:!0},{key:"codigo",sortable:!0},{key:"proveedor_id.nombre",sortable:!0,label:"proveedor"},{key:"categoria.nombre",label:"categoria",sortable:!0},{key:"precio",label:"precio",sortable:!0},{key:"categoria.nombre",label:"categoria",sortable:!0},{key:"unidadMedida.nombre",label:"unidad",sortable:!0},{key:"cantidad",label:"cantidad",sortable:!0},"precioBs","funciones"],inputEditVisibilyty:!0,inputSearchVisibilyty:!0,formVisibilityEDit:!1,infoVisibilityDelete:!1,infoVisibilityEdit:!1,inputDeleteVisibilyty:!0,formEdit:{nombre:null,codigo:null,stock:null,descripcion:null,categoria:null,unidadMedida:null,precio:null,proveedor_id:null,cantidad:null,createdAt:null,updatedAt:null,_id:null},categorias:[],unidadesMedida:[],nuevoProducto:{nombre:null,codigo:null,stock:null,descripcion:null,categoria:null,unidadMedida:null,precio:null,proveedor_id:null,cantidad:null},productos:[]}}},p=f,v=o("2877"),b=Object(v["a"])(p,r,a,!1,null,null,null);e["default"]=b.exports}}]);
//# sourceMappingURL=chunk-2d22bd35.7e9c0870.js.map